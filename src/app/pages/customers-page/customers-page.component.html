
<mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>Filters</mat-panel-title>
    </mat-expansion-panel-header>

    <mat-form-field appearance="fill">
        <mat-label>{{ localization.getMessage('customerType') }}</mat-label>
        <mat-select [(value)]="this.selectedCustomerType" (selectionChange)="onFiltersChanged()">
            <mat-option *ngFor="let customerType of this.customerTypes" [value]="customerType">
                {{ customerType.name }}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label> {{ localization.getMessage('customerName') }} </mat-label>
        <input matInput type="text" [(ngModel)]="namePattern" (change)="onFiltersChanged()">
        <button *ngIf="namePattern" matSuffix mat-icon-button aria-label="{{ localization.getMessage('clear') }}" (click)="namePattern=''; onFiltersChanged()">
            <mat-icon>close</mat-icon>
        </button>
    </mat-form-field>
</mat-expansion-panel>

<table mat-table [dataSource]="customers" class="mat-elevation-z8">

    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> {{ this.localization.getMessage('customerName') }} </th>
        <td mat-cell *matCellDef="let element"> {{ element.customer_name }} </td>
    </ng-container>

    <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef> {{ this.localization.getMessage('customerType') }} </th>
        <td mat-cell *matCellDef="let element"> {{ customerTypesMap[element.customer_type_id] }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="this.customersTableColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: this.customersTableColumns;"></tr>
</table>
